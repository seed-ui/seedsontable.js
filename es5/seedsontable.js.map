{"version":3,"sources":["seedsontable.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;;IAEa,Y,WAAA,Y;;;AACX,wBAAY,SAAZ,EAAuB,QAAvB,EAAoD;AAAA,QAAnB,YAAmB,yDAAJ,EAAI;AAAA;;AAClD,QAAM,kBAAkB,sBACtB;AACE,eAAS,SAAS,OADpB;AAEE,YAAM,SAAS,IAFjB;AAGE,YAAM,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,GAAV,CAAc,UAAC,GAAD;AAAA,eAClB,SAAS,OAAT,CAAiB,GAAjB,CAAqB,UAAC,CAAD,EAAI,GAAJ;AAAA,iBAClB,EAAC,QAAD,EAAM,QAAN,EAAW,MAAM,MAAjB,EAAyB,UAAU,IAAnC,EAAyC,aAAa,KAAtD,EAA6D,gBAAgB,KAA7E,EAAoF,gBAAgB,KAApG,EADkB;AAAA,SAArB,CADkB;AAAA,OAAd,EAIJ,MAJI,CAIG,UAAC,GAAD,EAAM,IAAN;AAAA,eAAe,IAAI,MAAJ,CAAW,IAAX,CAAf;AAAA,OAJH,EAIoC,EAJpC,EAIwC,MAJxC,CAI+C,SAAS,WAJxD,CAHR;AAQE,wBAAkB,0BAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,KAAhB,EAA0B;AAC1C,YAAI,QAAQ,SAAZ,EAAuB,MAAK,QAAL,CAAc,iBAAd,CAAgC,GAAhC,EAAqC,GAArC,EAA0C,KAA1C;AACxB;AAVH,KADsB,EAatB,aAAa,mBAbS,EActB,YAdsB,CAAxB;;AADkD,sHAiB5C,SAjB4C,EAiBjC,eAjBiC;;AAkBlD,UAAK,SAAL,GAAiB,QAAjB;;AAEA,UAAK,MAAL;;AAEA,UAAK,OAAL,CAAa,qBAAb,EAAoC,UAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,KAAhB,EAA0B;AAC5D,UAAI,QAAQ,SAAZ,EAAuB,MAAK,QAAL,CAAc,mBAAd,CAAkC,GAAlC,EAAuC,GAAvC;AACxB,KAFD;AAtBkD;AAyBnD;;;;6BAIQ;AAAA;;AACP,WAAK,eAAL,GAAuB,KAAK,cAA5B;AACA,WAAK,cAAL,GAAsB,UAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAmB;AACvC,YAAM,MAAM,OAAK,WAAL,CAAiB,GAAjB,EAAsB,GAAtB,EAA2B,GAA3B,CAAZ;AACA,eAAK,eAAL,CAAqB,GAArB,EAA0B,GAA1B,EAA+B,GAA/B;AACA,YAAI,OAAO,IAAX,EAAiB;AACf,iCAAa,KAAb,CAAmB,GAAnB,SAA6B,qBAA7B,EAAoD,GAApD,EAAyD,GAAzD,EAA8D,GAA9D,EAAmE,GAAnE;AACD;AACF,OAND;AAOD;;;wBAXc;AAAE,aAAO,KAAK,SAAZ;AAAwB;;;EA5BT,uBAAa,I;;AA0C/C,aAAa,mBAAb,GAAmC;AACjC,cAAY,IADqB;AAEjC,cAAY,IAFqB;AAGjC,gBAAc,CAHmB;AAIjC,sBAAoB,IAJa;AAKjC,mBAAiB,IALgB;AAMjC,eAAa,CACX,WADW,EAEX,WAFW,EAGX,YAHW,EAIX,WAJW,EAKX,MALW,EAMX,MANW,EAOX,WAPW,EAQX,iBARW,EASX,gBATW,EAUX,WAVW,EAWX,eAXW,CANoB;AAmBjC,sBAAoB,IAnBa;AAoBjC,iBAAe,IApBkB;AAqBjC,iBAAe,IArBkB;AAsBjC,aAAW,IAtBsB;AAuBjC,YAAU,IAvBuB;AAwBjC,cAAY,UAxBqB;AAyBjC,yBAAuB,KAzBU;AA0BjC,kBAAgB,IA1BiB;AA2BjC,YAAU,IA3BuB;AA4BjC,UAAQ;AA5ByB,CAAnC","file":"seedsontable.js","sourcesContent":["import Handsontable from 'handsontable';\n\nexport class Seedsontable extends Handsontable.Core {\n  constructor(container, seedData, userSettings = {}) {\n    const useUserSettings = Object.assign(\n      {\n        columns: seedData.columns,\n        data: seedData.data,\n        cell: [0, 1, 2].map((row) =>\n          seedData.columns.map((_, col) =>\n            ({row, col, type: 'text', readOnly: true, placeholder: false, allowInsertRow: false, allowRemoveRow: false})\n          )\n        ).reduce((all, part) => all.concat(part), []).concat(seedData.allComments),\n        afterSetCellMeta: (row, col, key, value) => {\n          if (key === 'comment') this.seedData.saveCommentAtCell(row, col, value);\n        },\n      },\n      Seedsontable.defaultUserSettings,\n      userSettings\n    );\n    super(container, useUserSettings);\n    this._seedData = seedData;\n    // patch\n    this._patch();\n    // for remove comment\n    this.addHook('afterRemoveCellMeta', (row, col, key, value) => {\n      if (key === 'comment') this.seedData.removeCommentAtCell(row, col);\n    });\n  }\n\n  get seedData() { return this._seedData; }\n\n  _patch() {\n    this._removeCellMeta = this.removeCellMeta;\n    this.removeCellMeta = (row, col, key) => {\n      const val = this.getCellMeta(row, col)[key];\n      this._removeCellMeta(row, col, key);\n      if (val != null) {\n        Handsontable.hooks.run(this, 'afterRemoveCellMeta', row, col, key, val);\n      }\n    };\n  }\n}\n\nSeedsontable.defaultUserSettings = {\n  colHeaders: true,\n  rowHeaders: true,\n  fixedRowsTop: 3,\n  manualColumnResize: true,\n  manualRowResize: true,\n  contextMenu: [\n    'row_above',\n    'row_below',\n    'remove_row',\n    '---------',\n    'undo',\n    'redo',\n    '---------',\n    'commentsAddEdit',\n    'commentsRemove',\n    '---------',\n    'freeze_column',\n  ],\n  manualColumnFreeze: true,\n  columnSorting: true,\n  sortIndicator: true,\n  copyPaste: true,\n  formulas: true,\n  fillHandle: 'vertical',\n  outsideClickDeselects: false,\n  trimWhitespace: true,\n  comments: true,\n  search: true,\n};\n"]}